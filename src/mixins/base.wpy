<script>
  import wepy from 'wepy';
  import Tips from '../utils/Tips';
  export default class base extends wepy.mixin {
    onLoad() {
      console.log('<-------------mix base.wepy----------------->')
      // 注入页面参数
      // 主要作用加载默认值
      const params = wepy.$instance.globalData.pageParams;
      if (params == null) {
        return;
      }
      const path = this.$root.$wxpage.route;
      const param = params[path];
      if (param != null) {
        console.info(`[minxin] page base init path=${path}, param=`, param);
        Object.assign(this, param);
        this.$apply();
      }
    }
    loaded() {
      this.init = true;
      this.$apply();
      Tips.loaded();
    }
    methods = {
      nopen() {
        Tips.alert('尚未开放');
      }
    };
  }
</script>
